Учет половины графа от заданной точки в контексте модуля распределения пассажиропотока в QGIS может касаться пространственного анализа и ограничений на расстояние. Например, вы хотите рассматривать только те остановки общественного транспорта или маршруты, которые находятся **с одной стороны** от заданной точки, либо только в пределах определенного радиуса.

### Как учитывать половину графа от точки?

#### 1. Пространственное ограничение
В данном случае "учет половины графа" может означать пространственное ограничение на анализ — например, все объекты, которые находятся **только справа или слева** от точки начала, или только в пределах определенного направления/угла.

#### 2. Пространственная фильтрация
Для фильтрации объектов с учетом половины графа можно воспользоваться пространственными операциями и фильтрацией данных в QGIS с помощью Python (PyQGIS). Например, можно ограничить поиск ближайших объектов с учетом полярного угла относительно начальной точки (в зависимости от ваших данных это может быть восток/запад, север/юг и т.д.).

#### Пример фильтрации объектов в QGIS на основе направления:

```python
from math import atan2, degrees

def angle_between_points(point1, point2):
    """Вычисление угла между двумя точками в градусах"""
    angle = degrees(atan2(point2.y() - point1.y(), point2.x() - point1.x()))
    return angle if angle >= 0 else 360 + angle

def filter_features_by_angle(point, layer, min_angle, max_angle):
    """Фильтрация объектов по углу относительно начальной точки"""
    filtered_features = []
    for feature in layer.getFeatures():
        feature_point = feature.geometry().asPoint()
        angle = angle_between_points(point, feature_point)
        if min_angle <= angle <= max_angle:
            filtered_features.append(feature)
    return filtered_features

# Пример использования: выберем объекты, которые находятся справа от точки (углы от 0 до 180 градусов)
filtered_ngpt_stations = filter_features_by_angle(start_point, ngpt_layer, 0, 180)
```

#### 3. Ограничение по расстоянию
Другой способ учитывать половину графа — это ограничение по расстоянию. Например, можно рассматривать только те остановки, которые находятся в пределах определенного радиуса от начальной точки.

#### Пример фильтрации по радиусу:

```python
def filter_features_by_distance(point, layer, max_distance):
    """Фильтрация объектов по расстоянию от начальной точки"""
    filtered_features = []
    for feature in layer.getFeatures():
        distance = point.distance(feature.geometry().asPoint())
        if distance <= max_distance:
            filtered_features.append(feature)
    return filtered_features

# Пример использования: выберем объекты, которые находятся в радиусе 1000 метров
filtered_ngpt_stations = filter_features_by_distance(start_point, ngpt_layer, 1000)
```

### Заключение

"Учет половины графа" может быть реализован через пространственные ограничения по углу или радиусу от начальной точки. Это позволяет фильтровать данные, чтобы учитывать только объекты, находящиеся в пределах определенного направления или расстояния.
